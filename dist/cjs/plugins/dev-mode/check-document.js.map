{"version":3,"file":"check-document.js","names":["_rxError","require","ensurePrimaryKeyValid","primaryKey","docData","newRxError","document","trim","includes"],"sources":["../../../../src/plugins/dev-mode/check-document.ts"],"sourcesContent":["import { newRxError } from '../../rx-error.ts';\nimport type { RxDocumentData } from '../../types/index.d.ts';\n\nexport function ensurePrimaryKeyValid(\n    primaryKey: string,\n    docData: RxDocumentData<any>\n) {\n    if (!primaryKey) {\n        throw newRxError('DOC20', {\n            primaryKey,\n            document: docData\n        });\n    }\n\n\n    /**\n     * This is required so that we can left-pad\n     * the primaryKey and we are still able to de-left-pad\n     * it to get again the original key.\n     */\n    if (\n        primaryKey !== primaryKey.trim()\n    ) {\n        throw newRxError('DOC21', {\n            primaryKey,\n            document: docData\n        });\n    }\n    if (\n        primaryKey.includes('\\r') ||\n        primaryKey.includes('\\n')\n    ) {\n        throw newRxError('DOC22', {\n            primaryKey,\n            document: docData\n        });\n    }\n    if (\n        primaryKey.includes('\"')\n    ) {\n        throw newRxError('DOC23', {\n            primaryKey,\n            document: docData\n        });\n    }\n}\n\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAGO,SAASC,qBAAqBA,CACjCC,UAAkB,EAClBC,OAA4B,EAC9B;EACE,IAAI,CAACD,UAAU,EAAE;IACb,MAAM,IAAAE,mBAAU,EAAC,OAAO,EAAE;MACtBF,UAAU;MACVG,QAAQ,EAAEF;IACd,CAAC,CAAC;EACN;;EAGA;AACJ;AACA;AACA;AACA;EACI,IACID,UAAU,KAAKA,UAAU,CAACI,IAAI,CAAC,CAAC,EAClC;IACE,MAAM,IAAAF,mBAAU,EAAC,OAAO,EAAE;MACtBF,UAAU;MACVG,QAAQ,EAAEF;IACd,CAAC,CAAC;EACN;EACA,IACID,UAAU,CAACK,QAAQ,CAAC,IAAI,CAAC,IACzBL,UAAU,CAACK,QAAQ,CAAC,IAAI,CAAC,EAC3B;IACE,MAAM,IAAAH,mBAAU,EAAC,OAAO,EAAE;MACtBF,UAAU;MACVG,QAAQ,EAAEF;IACd,CAAC,CAAC;EACN;EACA,IACID,UAAU,CAACK,QAAQ,CAAC,GAAG,CAAC,EAC1B;IACE,MAAM,IAAAH,mBAAU,EAAC,OAAO,EAAE;MACtBF,UAAU;MACVG,QAAQ,EAAEF;IACd,CAAC,CAAC;EACN;AACJ","ignoreList":[]}