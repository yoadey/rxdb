{"version":3,"file":"mingo-updater.js","names":["_updater","require","_index","updater","mingoUpdater","d","op","updateObject","createUpdater","cloneMode","cloned","clone"],"sources":["../../../../src/plugins/update/mingo-updater.ts"],"sourcesContent":["/**\n * Custom build of the mingo updater for smaller build size\n */\n\nimport {\n    createUpdater\n} from \"mingo/updater\";\nimport {\n    clone\n} from '../utils/index.ts';\nimport type {\n    UpdateQuery\n} from '../../types/index';\n\nlet updater: any;\nexport function mingoUpdater<T>(\n    d: T, op: UpdateQuery<T>\n): T {\n    if (!updater) {\n        const updateObject = createUpdater({ cloneMode: \"none\" });\n        updater = (d: T, op: UpdateQuery<T>) => {\n            const cloned = clone(d);\n            updateObject(cloned as any, op as any);\n            return cloned;\n        }\n    }\n    return updater(d, op);\n}\n"],"mappings":";;;;;;AAIA,IAAAA,QAAA,GAAAC,OAAA;AAGA,IAAAC,MAAA,GAAAD,OAAA;AAPA;AACA;AACA;;AAYA,IAAIE,OAAY;AACT,SAASC,YAAYA,CACxBC,CAAI,EAAEC,EAAkB,EACvB;EACD,IAAI,CAACH,OAAO,EAAE;IACV,IAAMI,YAAY,GAAG,IAAAC,sBAAa,EAAC;MAAEC,SAAS,EAAE;IAAO,CAAC,CAAC;IACzDN,OAAO,GAAGA,CAACE,CAAI,EAAEC,EAAkB,KAAK;MACpC,IAAMI,MAAM,GAAG,IAAAC,YAAK,EAACN,CAAC,CAAC;MACvBE,YAAY,CAACG,MAAM,EAASJ,EAAS,CAAC;MACtC,OAAOI,MAAM;IACjB,CAAC;EACL;EACA,OAAOP,OAAO,CAACE,CAAC,EAAEC,EAAE,CAAC;AACzB","ignoreList":[]}