{"version":3,"file":"check-document.js","names":["newRxError","ensurePrimaryKeyValid","primaryKey","docData","document","trim","includes"],"sources":["../../../../src/plugins/dev-mode/check-document.ts"],"sourcesContent":["import { newRxError } from '../../rx-error.ts';\nimport type { RxDocumentData } from '../../types/index.d.ts';\n\nexport function ensurePrimaryKeyValid(\n    primaryKey: string,\n    docData: RxDocumentData<any>\n) {\n    if (!primaryKey) {\n        throw newRxError('DOC20', {\n            primaryKey,\n            document: docData\n        });\n    }\n\n\n    /**\n     * This is required so that we can left-pad\n     * the primaryKey and we are still able to de-left-pad\n     * it to get again the original key.\n     */\n    if (\n        primaryKey !== primaryKey.trim()\n    ) {\n        throw newRxError('DOC21', {\n            primaryKey,\n            document: docData\n        });\n    }\n    if (\n        primaryKey.includes('\\r') ||\n        primaryKey.includes('\\n')\n    ) {\n        throw newRxError('DOC22', {\n            primaryKey,\n            document: docData\n        });\n    }\n    if (\n        primaryKey.includes('\"')\n    ) {\n        throw newRxError('DOC23', {\n            primaryKey,\n            document: docData\n        });\n    }\n}\n\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,mBAAmB;AAG9C,OAAO,SAASC,qBAAqBA,CACjCC,UAAkB,EAClBC,OAA4B,EAC9B;EACE,IAAI,CAACD,UAAU,EAAE;IACb,MAAMF,UAAU,CAAC,OAAO,EAAE;MACtBE,UAAU;MACVE,QAAQ,EAAED;IACd,CAAC,CAAC;EACN;;EAGA;AACJ;AACA;AACA;AACA;EACI,IACID,UAAU,KAAKA,UAAU,CAACG,IAAI,CAAC,CAAC,EAClC;IACE,MAAML,UAAU,CAAC,OAAO,EAAE;MACtBE,UAAU;MACVE,QAAQ,EAAED;IACd,CAAC,CAAC;EACN;EACA,IACID,UAAU,CAACI,QAAQ,CAAC,IAAI,CAAC,IACzBJ,UAAU,CAACI,QAAQ,CAAC,IAAI,CAAC,EAC3B;IACE,MAAMN,UAAU,CAAC,OAAO,EAAE;MACtBE,UAAU;MACVE,QAAQ,EAAED;IACd,CAAC,CAAC;EACN;EACA,IACID,UAAU,CAACI,QAAQ,CAAC,GAAG,CAAC,EAC1B;IACE,MAAMN,UAAU,CAAC,OAAO,EAAE;MACtBE,UAAU;MACVE,QAAQ,EAAED;IACd,CAAC,CAAC;EACN;AACJ","ignoreList":[]}