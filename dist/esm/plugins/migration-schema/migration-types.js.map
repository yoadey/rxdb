{"version":3,"file":"migration-types.js","names":[],"sources":["../../../../src/plugins/migration-schema/migration-types.ts"],"sourcesContent":["import type {\n    InternalStoreDocType,\n    PlainJsonError\n} from '../../types/index.d.ts';\n\nexport type RxMigrationStatus = {\n    collectionName: string;\n    status: 'RUNNING' | 'DONE' | 'ERROR';\n    error?: PlainJsonError;\n\n    /**\n     * Counters so that you can display\n     * the migration state to your user in the UI\n     * and show a loading bar.\n     */\n    count: {\n        /**\n         * Total amount of documents that\n         * have to be migrated\n         */\n        total: number;\n        /**\n         * Amount of documents that have been migrated already\n         * = success + purged\n         */\n        handled: number;\n        /**\n         * Total percentage [0-100]\n         */\n        percent: number;\n    };\n};\n\n\n/**\n * To be shared between browser tabs,\n * the migration status is written into a document in the internal storage of the database.\n */\nexport type RxMigrationStatusDocument = InternalStoreDocType<RxMigrationStatus>;\n\n\nexport type MigrationStatusUpdate = (before: RxMigrationStatus) => RxMigrationStatus;\n"],"mappings":"","ignoreList":[]}