{"version":3,"file":"utils-base64.js","names":["encode","decode","b64EncodeUnicode","str","b64DecodeUnicode","arrayBufferToBase64","buffer","binary","bytes","Uint8Array","len","byteLength","i","String","fromCharCode","btoa","base64ToArrayBuffer","base64","binary_string","atob","length","charCodeAt"],"sources":["../../../../src/plugins/utils/utils-base64.ts"],"sourcesContent":["\n/**\n * NO! We cannot just use btoa() and atob()\n * because they do not work correctly with binary data.\n * @link https://stackoverflow.com/q/30106476/3443137\n */\nimport { encode, decode } from 'js-base64';\n\n/**\n * atob() and btoa() do not work well with non ascii chars,\n * so we have to use these helper methods instead.\n * @link https://stackoverflow.com/a/30106551/3443137\n */\n// Encoding UTF8 -> base64\nexport function b64EncodeUnicode(str: string) {\n    return encode(str);\n}\n\n// Decoding base64 -> UTF8\nexport function b64DecodeUnicode(str: string) {\n    return decode(str);\n}\n\n/**\n * @link https://stackoverflow.com/a/9458996/3443137\n */\nexport function arrayBufferToBase64(buffer: ArrayBuffer) {\n    let binary = '';\n    const bytes = new Uint8Array(buffer);\n    const len = bytes.byteLength;\n    for (let i = 0; i < len; i++) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binary);\n}\n\n\n/**\n * @link https://stackoverflow.com/a/21797381\n */\nexport function base64ToArrayBuffer(base64: string): ArrayBuffer {\n    const binary_string = atob(base64);\n    const len = binary_string.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA,SAASA,MAAM,EAAEC,MAAM,QAAQ,WAAW;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAACC,GAAW,EAAE;EAC1C,OAAOH,MAAM,CAACG,GAAG,CAAC;AACtB;;AAEA;AACA,OAAO,SAASC,gBAAgBA,CAACD,GAAW,EAAE;EAC1C,OAAOF,MAAM,CAACE,GAAG,CAAC;AACtB;;AAEA;AACA;AACA;AACA,OAAO,SAASE,mBAAmBA,CAACC,MAAmB,EAAE;EACrD,IAAIC,MAAM,GAAG,EAAE;EACf,IAAMC,KAAK,GAAG,IAAIC,UAAU,CAACH,MAAM,CAAC;EACpC,IAAMI,GAAG,GAAGF,KAAK,CAACG,UAAU;EAC5B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,EAAEE,CAAC,EAAE,EAAE;IAC1BL,MAAM,IAAIM,MAAM,CAACC,YAAY,CAACN,KAAK,CAACI,CAAC,CAAC,CAAC;EAC3C;EACA,OAAOG,IAAI,CAACR,MAAM,CAAC;AACvB;;AAGA;AACA;AACA;AACA,OAAO,SAASS,mBAAmBA,CAACC,MAAc,EAAe;EAC7D,IAAMC,aAAa,GAAGC,IAAI,CAACF,MAAM,CAAC;EAClC,IAAMP,GAAG,GAAGQ,aAAa,CAACE,MAAM;EAChC,IAAMZ,KAAK,GAAG,IAAIC,UAAU,CAACC,GAAG,CAAC;EACjC,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,EAAEE,CAAC,EAAE,EAAE;IAC1BJ,KAAK,CAACI,CAAC,CAAC,GAAGM,aAAa,CAACG,UAAU,CAACT,CAAC,CAAC;EAC1C;EACA,OAAOJ,KAAK,CAACF,MAAM;AACvB","ignoreList":[]}