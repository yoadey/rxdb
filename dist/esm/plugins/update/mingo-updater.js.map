{"version":3,"file":"mingo-updater.js","names":["createUpdater","clone","updater","mingoUpdater","d","op","updateObject","cloneMode","cloned"],"sources":["../../../../src/plugins/update/mingo-updater.ts"],"sourcesContent":["/**\n * Custom build of the mingo updater for smaller build size\n */\n\nimport {\n    createUpdater\n} from \"mingo/updater\";\nimport {\n    clone\n} from '../utils/index.ts';\nimport type {\n    UpdateQuery\n} from '../../types/index';\n\nlet updater: any;\nexport function mingoUpdater<T>(\n    d: T, op: UpdateQuery<T>\n): T {\n    if (!updater) {\n        const updateObject = createUpdater({ cloneMode: \"none\" });\n        updater = (d: T, op: UpdateQuery<T>) => {\n            const cloned = clone(d);\n            updateObject(cloned as any, op as any);\n            return cloned;\n        }\n    }\n    return updater(d, op);\n}\n"],"mappings":"AAAA;AACA;AACA;;AAEA,SACIA,aAAa,QACV,eAAe;AACtB,SACIC,KAAK,QACF,mBAAmB;AAK1B,IAAIC,OAAY;AAChB,OAAO,SAASC,YAAYA,CACxBC,CAAI,EAAEC,EAAkB,EACvB;EACD,IAAI,CAACH,OAAO,EAAE;IACV,IAAMI,YAAY,GAAGN,aAAa,CAAC;MAAEO,SAAS,EAAE;IAAO,CAAC,CAAC;IACzDL,OAAO,GAAGA,CAACE,CAAI,EAAEC,EAAkB,KAAK;MACpC,IAAMG,MAAM,GAAGP,KAAK,CAACG,CAAC,CAAC;MACvBE,YAAY,CAACE,MAAM,EAASH,EAAS,CAAC;MACtC,OAAOG,MAAM;IACjB,CAAC;EACL;EACA,OAAON,OAAO,CAACE,CAAC,EAAEC,EAAE,CAAC;AACzB","ignoreList":[]}